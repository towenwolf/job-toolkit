services:
  job-toolkit:
    build: .
    container_name: job-toolkit
    restart: unless-stopped
    volumes:
      # Mount your config file
      - ./config.yaml:/app/config.yaml:ro
      # Optional: mount .env file if you prefer environment variables
      # - ./.env:/app/.env:ro
    environment:
      # OpenAI API Key (required)
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      
      # Email configuration (alternative to config.yaml)
      - SMTP_SERVER=${SMTP_SERVER:-smtp.gmail.com}
      - SMTP_PORT=${SMTP_PORT:-587}
      - SENDER_EMAIL=${SENDER_EMAIL}
      - SENDER_PASSWORD=${SENDER_PASSWORD}
      - RECIPIENT_EMAIL=${RECIPIENT_EMAIL}
      
      # Timezone (optional, defaults to UTC)
      - TZ=${TZ:-UTC}
    # Uncomment to run in one-shot mode instead of scheduler
    # command: python job_toolkit.py
